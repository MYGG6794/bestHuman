Log initialized at 2025/6/13 15:55:29
2025-06-13 15:55:29 [INFO] 应用程序启动中...
2025-06-13 15:55:30 [INFO] MainForm 构造函数开始。
2025-06-13 15:55:30 [INFO] 加载应用程序设置。
2025-06-13 15:55:30 [INFO] 注册全局热键 Alt+F10: 失败
2025-06-13 15:55:30 [INFO] 注册全局热键 Alt+S: 成功
2025-06-13 15:55:30 [INFO] 设置窗口置顶: True
2025-06-13 15:55:30 [INFO] MainForm 窗体被激活
2025-06-13 15:55:30 [INFO] 启用点击穿透: True
2025-06-13 15:55:30 [INFO] 点击穿透模式下重新注册全局热键
2025-06-13 15:55:30 [INFO] 已注销所有全局热键
2025-06-13 15:55:30 [INFO] 注册全局热键 Alt+F10: 失败
2025-06-13 15:55:30 [INFO] 注册全局热键 Alt+S: 成功
2025-06-13 15:55:30 [INFO] 设置窗口所有者: MainForm
2025-06-13 15:55:30 [WARNING] 语音识别初始化失败（可能是因为没有麦克风）: Cannot find the requested data item, such as a data key or value.
2025-06-13 15:55:30 [INFO] 尝试连接到 WebSocket 服务器: ws://localhost:8080
2025-06-13 15:55:30 [WARNING] 语音识别初始化失败（可能是因为没有麦克风）: Cannot find the requested data item, such as a data key or value.
2025-06-13 15:55:30 [INFO] MainForm 构造函数结束。
2025-06-13 15:55:30 [INFO] WebView2 初始化完成
2025-06-13 15:55:33 [INFO] MainForm 窗体被激活
2025-06-13 15:55:34 [ERROR] ERROR: WebSocket 连接失败: Unable to connect to the remote server
Exception: Unable to connect to the remote server
StackTrace:    at System.Net.WebSockets.WebSocketHandle.ConnectAsync(Uri uri, HttpMessageInvoker invoker, CancellationToken cancellationToken, ClientWebSocketOptions options)
   at System.Net.WebSockets.ClientWebSocket.ConnectAsyncCore(Uri uri, HttpMessageInvoker invoker, CancellationToken cancellationToken)
   at CoreApplication.WebSocketClient.ConnectAsync(String uri) in D:\Projects\bestHuman\bestHuman\CoreApplication\WebSocketClient.cs:line 56
2025-06-13 15:55:34 [ERROR] ERROR: WebSocket 错误: 连接失败: Unable to connect to the remote server
2025-06-13 15:55:34 [INFO] 全局热键被触发，ID: 2
2025-06-13 15:55:34 [INFO] 通过全局热键触发设置窗口切换
2025-06-13 15:55:34 [INFO] ToggleSettingsWindow调用：当前窗口状态 - 存在:True，可见:False，已释放:False
2025-06-13 15:55:34 [INFO] 显示设置窗口并激活。
2025-06-13 15:55:34 [INFO] 设置窗口可见性改变: True
2025-06-13 15:55:34 [INFO] 设置界面已显示
2025-06-13 15:55:34 [INFO] 设置界面已激活
2025-06-13 15:55:40 [INFO] 定时检查：主窗体无焦点，尝试重获焦点
2025-06-13 15:55:40 [INFO] 设置界面失去焦点
2025-06-13 15:55:40 [INFO] MainForm 窗体被激活
2025-06-13 15:55:40 [INFO] 重置键盘事件处理
2025-06-13 15:55:40 [INFO] 主窗体键盘事件重置完成，KeyPreview=True, Focused=False, Enabled=True, TopLevel=True
2025-06-13 15:55:43 [INFO] 设置界面已激活
2025-06-13 15:55:45 [INFO] 设置界面失去焦点
2025-06-13 15:55:46 [INFO] 设置界面已激活
2025-06-13 15:55:46 [INFO] 用户确认启用客户端抠像功能
2025-06-13 15:55:46 [INFO] 抠像功能设置更改: 启用
2025-06-13 15:55:47 [INFO] 设置界面失去焦点
2025-06-13 15:55:49 [INFO] 设置界面已激活
2025-06-13 15:55:49 [INFO] 抠像颜色已更改为: R=0, G=255, B=0
2025-06-13 15:55:50 [INFO] 定时检查：主窗体无焦点，尝试重获焦点
2025-06-13 15:55:50 [INFO] 设置界面失去焦点
2025-06-13 15:55:50 [INFO] MainForm 窗体被激活
2025-06-13 15:55:50 [INFO] 重置键盘事件处理
2025-06-13 15:55:50 [INFO] 主窗体键盘事件重置完成，KeyPreview=True, Focused=False, Enabled=True, TopLevel=True
2025-06-13 15:55:52 [INFO] 设置界面已激活
2025-06-13 15:55:55 [INFO] 保存设置并触发SettingsChanged事件
2025-06-13 15:55:55 [INFO] SettingsForm_SettingsChanged 事件触发。
2025-06-13 15:55:55 [INFO] 应用设置中...
2025-06-13 15:55:55 [INFO] 抠像功能已启用
2025-06-13 15:55:55 [INFO] 设置窗口置顶: True
2025-06-13 15:55:55 [INFO] 设置界面失去焦点
2025-06-13 15:55:55 [INFO] MainForm 窗体被激活
2025-06-13 15:55:56 [INFO] 启用点击穿透: True
2025-06-13 15:55:56 [INFO] 点击穿透模式下重新注册全局热键
2025-06-13 15:55:56 [INFO] 已注销所有全局热键
2025-06-13 15:55:56 [INFO] 注册全局热键 Alt+F10: 失败
2025-06-13 15:55:56 [INFO] 注册全局热键 Alt+S: 成功
2025-06-13 15:55:56 [INFO] 设置流URL: http://127.0.0.1:11188/video.html
2025-06-13 15:55:56 [INFO] 成功导航到流URL
2025-06-13 15:55:56 [INFO] 设置应用完成。
2025-06-13 15:55:56 [INFO] 保存应用程序设置。
2025-06-13 15:55:56 [INFO] 尝试连接到 WebSocket 服务器: ws://localhost:8080
2025-06-13 15:55:56 [INFO] 重置键盘事件处理
2025-06-13 15:55:56 [INFO] 主窗体键盘事件重置完成，KeyPreview=True, Focused=False, Enabled=True, TopLevel=True
2025-06-13 15:55:56 [INFO] 已注入抠像CSS
2025-06-13 15:55:56 [INFO] 语音合成开始播放。
2025-06-13 15:55:56 [INFO] 语音合成开始播放事件。
2025-06-13 15:55:56 [WARNING] WebSocket 未连接，无法发送消息。
2025-06-13 15:55:56 [ERROR] ERROR: WebSocket 错误: WebSocket 未连接。
2025-06-13 15:55:57 [INFO] MainForm 窗体被激活
2025-06-13 15:55:57 [INFO] 保存后隐藏设置窗口
2025-06-13 15:55:57 [INFO] 设置窗口可见性改变: False
2025-06-13 15:55:57 [INFO] 设置界面已隐藏
2025-06-13 15:55:57 [INFO] 主窗体重新获得焦点
2025-06-13 15:55:57 [INFO] 重新设置主窗体键盘事件处理
2025-06-13 15:55:57 [INFO] 重置键盘事件处理
2025-06-13 15:55:57 [INFO] 主窗体键盘事件重置完成，KeyPreview=True, Focused=False, Enabled=True, TopLevel=True
2025-06-13 15:55:58 [INFO] 语音合成播放完成。
2025-06-13 15:55:58 [INFO] 语音合成播放完成事件。
2025-06-13 15:55:58 [WARNING] WebSocket 未连接，无法发送消息。
2025-06-13 15:55:58 [ERROR] ERROR: WebSocket 错误: WebSocket 未连接。
2025-06-13 15:56:00 [INFO] 定时检查：主窗体拥有焦点，键盘输入正常
2025-06-13 15:56:00 [ERROR] ERROR: WebSocket 连接失败: Unable to connect to the remote server
Exception: Unable to connect to the remote server
StackTrace:    at System.Net.WebSockets.WebSocketHandle.ConnectAsync(Uri uri, HttpMessageInvoker invoker, CancellationToken cancellationToken, ClientWebSocketOptions options)
   at System.Net.WebSockets.ClientWebSocket.ConnectAsyncCore(Uri uri, HttpMessageInvoker invoker, CancellationToken cancellationToken)
   at CoreApplication.WebSocketClient.ConnectAsync(String uri) in D:\Projects\bestHuman\bestHuman\CoreApplication\WebSocketClient.cs:line 56
2025-06-13 15:56:00 [ERROR] ERROR: WebSocket 错误: 连接失败: Unable to connect to the remote server
2025-06-13 15:56:10 [INFO] 定时检查：主窗体无焦点，尝试重获焦点
2025-06-13 15:56:10 [INFO] MainForm 窗体被激活
2025-06-13 15:56:10 [INFO] 重置键盘事件处理
2025-06-13 15:56:10 [INFO] 主窗体键盘事件重置完成，KeyPreview=True, Focused=False, Enabled=True, TopLevel=True
2025-06-13 15:56:20 [INFO] 定时检查：主窗体拥有焦点，键盘输入正常
2025-06-13 15:56:30 [INFO] 定时检查：主窗体拥有焦点，键盘输入正常
2025-06-13 15:56:36 [INFO] 已注销所有全局热键
2025-06-13 15:56:36 [INFO] 应用程序已关闭。
